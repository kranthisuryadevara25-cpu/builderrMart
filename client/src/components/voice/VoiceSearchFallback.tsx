import { useState } from 'react';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Alert, AlertDescription } from '@/components/ui/alert';\nimport { Badge } from '@/components/ui/badge';\nimport { \n  Mic, \n  MicOff, \n  AlertTriangle, \n  Download, \n  ExternalLink,\n  Chrome,\n  Smartphone,\n  Monitor\n} from 'lucide-react';\n\ninterface VoiceSearchFallbackProps {\n  onManualSearch: (query: string) => void;\n  placeholder?: string;\n  value: string;\n  onChange: (value: string) => void;\n}\n\nexport function VoiceSearchFallback({\n  onManualSearch,\n  placeholder = \"Type your search...\",\n  value,\n  onChange\n}: VoiceSearchFallbackProps) {\n  const [showFallbackOptions, setShowFallbackOptions] = useState(false);\n  const [selectedSuggestion, setSelectedSuggestion] = useState('');\n  \n  const searchSuggestions = [\n    'cement', 'steel rods', 'bathroom tiles', 'electrical wire',\n    'paint', 'plumbing', 'doors', 'windows', 'flooring', 'roofing'\n  ];\n  \n  const handleSuggestionClick = (suggestion: string) => {\n    onChange(suggestion);\n    onManualSearch(suggestion);\n    setSelectedSuggestion(suggestion);\n  };\n  \n  const handleManualSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    if (value.trim()) {\n      onManualSearch(value.trim());\n    }\n  };\n  \n  return (\n    <div className=\"space-y-4\">\n      {/* Fallback Input with Enhanced UI */}\n      <div className=\"relative\">\n        <form onSubmit={handleManualSubmit} className=\"flex gap-2\">\n          <div className=\"flex-1 relative\">\n            <Input\n              placeholder={placeholder}\n              value={value}\n              onChange={(e) => onChange(e.target.value)}\n              className=\"pr-12\"\n            />\n            {/* Disabled Mic Icon */}\n            <div className=\"absolute right-3 top-1/2 transform -translate-y-1/2\">\n              <MicOff className=\"w-4 h-4 text-gray-400\" />\n            </div>\n          </div>\n          <Button type=\"submit\" disabled={!value.trim()}>\n            Search\n          </Button>\n        </form>\n      </div>\n      \n      {/* Voice Search Unavailable Notice */}\n      <Alert>\n        <AlertTriangle className=\"w-4 h-4\" />\n        <AlertDescription className=\"flex items-center justify-between\">\n          <span>Voice search is not available in your current browser.</span>\n          <Button\n            variant=\"ghost\"\n            size=\"sm\"\n            onClick={() => setShowFallbackOptions(!showFallbackOptions)}\n          >\n            {showFallbackOptions ? 'Hide Options' : 'Show Alternatives'}\n          </Button>\n        </AlertDescription>\n      </Alert>\n      \n      {/* Fallback Options */}\n      {showFallbackOptions && (\n        <div className=\"space-y-4\">\n          {/* Quick Search Suggestions */}\n          <Card>\n            <CardHeader className=\"pb-3\">\n              <CardTitle className=\"text-lg\">Quick Search Suggestions</CardTitle>\n            </CardHeader>\n            <CardContent>\n              <div className=\"flex flex-wrap gap-2\">\n                {searchSuggestions.map((suggestion) => (\n                  <Button\n                    key={suggestion}\n                    variant={selectedSuggestion === suggestion ? \"default\" : \"outline\"}\n                    size=\"sm\"\n                    onClick={() => handleSuggestionClick(suggestion)}\n                  >\n                    {suggestion}\n                  </Button>\n                ))}\n              </div>\n            </CardContent>\n          </Card>\n          \n          {/* Browser Recommendations */}\n          <Card>\n            <CardHeader className=\"pb-3\">\n              <CardTitle className=\"text-lg flex items-center gap-2\">\n                <Chrome className=\"w-5 h-5\" />\n                Enable Voice Search\n              </CardTitle>\n            </CardHeader>\n            <CardContent className=\"space-y-4\">\n              <p className=\"text-sm text-gray-600\">\n                For the best voice search experience, consider using one of these browsers:\n              </p>\n              \n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                {/* Desktop Browsers */}\n                <div className=\"space-y-3\">\n                  <div className=\"flex items-center gap-2\">\n                    <Monitor className=\"w-4 h-4\" />\n                    <span className=\"font-medium\">Desktop</span>\n                  </div>\n                  \n                  <div className=\"space-y-2\">\n                    <a\n                      href=\"https://www.google.com/chrome/\"\n                      target=\"_blank\"\n                      rel=\"noopener noreferrer\"\n                      className=\"flex items-center gap-2 p-2 border rounded-lg hover:bg-gray-50 transition-colors\"\n                    >\n                      <Chrome className=\"w-5 h-5 text-blue-600\" />\n                      <div className=\"flex-1\">\n                        <p className=\"font-medium text-sm\">Google Chrome</p>\n                        <p className=\"text-xs text-gray-600\">Best voice search support</p>\n                      </div>\n                      <ExternalLink className=\"w-4 h-4 text-gray-400\" />\n                    </a>\n                    \n                    <a\n                      href=\"https://www.microsoft.com/edge\"\n                      target=\"_blank\"\n                      rel=\"noopener noreferrer\"\n                      className=\"flex items-center gap-2 p-2 border rounded-lg hover:bg-gray-50 transition-colors\"\n                    >\n                      <Monitor className=\"w-5 h-5 text-blue-600\" />\n                      <div className=\"flex-1\">\n                        <p className=\"font-medium text-sm\">Microsoft Edge</p>\n                        <p className=\"text-xs text-gray-600\">Excellent compatibility</p>\n                      </div>\n                      <ExternalLink className=\"w-4 h-4 text-gray-400\" />\n                    </a>\n                  </div>\n                </div>\n                \n                {/* Mobile Browsers */}\n                <div className=\"space-y-3\">\n                  <div className=\"flex items-center gap-2\">\n                    <Smartphone className=\"w-4 h-4\" />\n                    <span className=\"font-medium\">Mobile</span>\n                  </div>\n                  \n                  <div className=\"space-y-2 text-sm\">\n                    <div className=\"p-2 border rounded-lg\">\n                      <p className=\"font-medium\">Android: Chrome Mobile</p>\n                      <p className=\"text-xs text-gray-600\">Full voice search support</p>\n                    </div>\n                    \n                    <div className=\"p-2 border rounded-lg\">\n                      <p className=\"font-medium\">iOS: Safari/Chrome</p>\n                      <p className=\"text-xs text-gray-600\">Limited support</p>\n                    </div>\n                  </div>\n                </div>\n              </div>\n              \n              <div className=\"bg-blue-50 p-4 rounded-lg\">\n                <p className=\"text-sm text-blue-800\">\n                  <strong>Pro Tip:</strong> After switching browsers, you may need to grant microphone \n                  permissions when first using voice search.\n                </p>\n              </div>\n            </CardContent>\n          </Card>\n          \n          {/* Alternative Input Methods */}\n          <Card>\n            <CardHeader className=\"pb-3\">\n              <CardTitle className=\"text-lg\">Alternative Input Methods</CardTitle>\n            </CardHeader>\n            <CardContent className=\"space-y-3\">\n              <div className=\"grid grid-cols-1 md:grid-cols-3 gap-3\">\n                <div className=\"p-3 border rounded-lg text-center\">\n                  <p className=\"font-medium text-sm\">Keyboard Shortcuts</p>\n                  <Badge variant=\"secondary\" className=\"mt-1\">Ctrl + F</Badge>\n                  <p className=\"text-xs text-gray-600 mt-1\">Browser find</p>\n                </div>\n                \n                <div className=\"p-3 border rounded-lg text-center\">\n                  <p className=\"font-medium text-sm\">Auto-complete</p>\n                  <Badge variant=\"secondary\" className=\"mt-1\">Type & Select</Badge>\n                  <p className=\"text-xs text-gray-600 mt-1\">Suggested results</p>\n                </div>\n                \n                <div className=\"p-3 border rounded-lg text-center\">\n                  <p className=\"font-medium text-sm\">Category Browse</p>\n                  <Badge variant=\"secondary\" className=\"mt-1\">Navigate</Badge>\n                  <p className=\"text-xs text-gray-600 mt-1\">Browse by category</p>\n                </div>\n              </div>\n            </CardContent>\n          </Card>\n        </div>\n      )}\n    </div>\n  );\n}"